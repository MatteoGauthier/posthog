/* Only styles that are shared across multiple components (i.e. global) should go here, trying to keep this file
nimble to simplify maintenance. We separate variables and mixins in vars.scss to be able to import those into local
style files without adding already imported styles.

Font weights:
Only 400 (`normal`), 500 (`var(--font-medium)`), 600 (`var(--font-semibold)`), or 700 (`bold`) should be used

*/

@use 'sass:map';

// Global components
@import '../../../node_modules/react-toastify/dist/ReactToastify';
@import 'fonts';
@import 'functions';
@import 'mixins';
@import 'tailwindcss/components'; // NOTE: The components layer must be before utilities for correct specificity
@import 'utilities';
@import 'utilities-legacy'; // TODO: Remove all legacy utilities

:root {
    // Posthog 3030:
    // https://www.figma.com/design/rQ5SvWb4P2AGt7o9KbKV21/Posthog-3030?node-id=79-2694&node-type=canvas&t=gY0DiwE0seyXYOL3-0
    // Primitives colors
    // DO NOT USE PRIMITIVE COLORS DIRECTLY.
    // Use the semantic colors instead.
    --primary-black: #000;
    --primary-black-25: hsl(0deg 0% 0% / 25.1%);
    --primary-black-50: hsl(0deg 0% 0% / 50.2%);
    --primary-white: #fff;
    --primary-white-50: #ffffff80;

    // Neutral colors
    --neutral-50: #fafafa;
    --neutral-100: #f5f5f5;
    --neutral-150: #ebebeb;
    --neutral-200: #e0e0e0;
    --neutral-250: #d6d6d6;
    --neutral-300: #ccc;
    --neutral-350: #bfbfbf;
    --neutral-400: #b3b3b3;
    --neutral-450: #a6a6a6;
    --neutral-500: #999;
    --neutral-550: #8c8c8c;
    --neutral-600: #808080;
    --neutral-650: #737373;
    --neutral-700: #666;
    --neutral-750: #595959;
    --neutral-800: #4d4d4d;
    --neutral-850: #404040;
    --neutral-900: #333;
    --neutral-950: #262626;

    // Neutral warm colors (light mode backgrounds)
    --neutral-warm-50: hsl(72deg 19% 95%);
    --neutral-warm-100: hsl(72deg 19% 90%);
    --neutral-warm-150: hsl(73deg 18% 85%);
    --neutral-warm-200: hsl(72deg 20% 80%);
    --neutral-warm-250: hsl(72deg 19% 75%);
    --neutral-warm-300: hsl(72deg 19% 70%);
    --neutral-warm-350: hsl(72deg 19% 65%);
    --neutral-warm-400: hsl(71deg 19% 60%);
    --neutral-warm-450: hsl(72deg 19% 55%);
    --neutral-warm-500: hsl(72deg 19% 50%);
    --neutral-warm-550: hsl(72deg 19% 45%);
    --neutral-warm-600: hsl(71deg 19% 40%);
    --neutral-warm-650: hsl(72deg 19% 35%);
    --neutral-warm-700: hsl(72deg 19% 30%);
    --neutral-warm-750: hsl(72deg 19% 25%);
    --neutral-warm-800: hsl(72deg 20% 20%);
    --neutral-warm-850: hsl(73deg 18% 15%);
    --neutral-warm-900: hsl(72deg 19% 10%);
    --neutral-warm-950: hsl(75deg 15% 5%);

    // Neutral cool colors (dark mode backgrounds)
    --neutral-cool-50: hsl(240deg 12% 95%);
    --neutral-cool-100: hsl(223deg 14% 90%);
    --neutral-cool-150: hsl(224deg 14% 85%);
    --neutral-cool-200: hsl(227deg 14% 80%);
    --neutral-cool-250: hsl(227deg 14% 75%);
    --neutral-cool-300: hsl(229deg 14% 70%);
    --neutral-cool-350: hsl(228deg 14% 65%);
    --neutral-cool-400: hsl(229deg 14% 60%);
    --neutral-cool-450: hsl(230deg 14% 55%);
    --neutral-cool-500: hsl(230deg 14% 50%);
    --neutral-cool-550: hsl(230deg 14% 50%);
    --neutral-cool-600: hsl(230deg 14% 45%);
    --neutral-cool-650: hsl(231deg 14% 40%);
    --neutral-cool-700: hsl(230deg 14% 35%);
    --neutral-cool-750: hsl(231deg 14% 30%);
    --neutral-cool-800: hsl(230deg 14% 25%);
    --neutral-cool-850: hsl(229deg 14% 15%);
    --neutral-cool-900: hsl(231deg 14% 10%);
    --neutral-cool-925: hsl(225deg 15% 7.5%);
    --neutral-cool-950: hsl(225deg 15% 5%);

    // Blue colors
    --blue-100: #d2dcfd;
    --blue-200: #a5b9fb;
    --blue-300: #7995fa;
    --blue-400: #4c72f8;
    --blue-500: #1f4ff6;
    --blue-600: #193fc5;
    --blue-700: #132f94;
    --blue-800: #0c2062;
    --blue-900: #061031;

    // Purple colors
    --purple-100: #e0ceff;
    --purple-200: #c29cff;
    --purple-300: #a36bff;
    --purple-400: #8539ff;
    --purple-500: #6608ff;
    --purple-600: #5206cc;
    --purple-700: #3d0599;
    --purple-800: #290366;
    --purple-900: #140233;

    // Violet colors
    --violet-100: #f1d6ff;
    --violet-200: #e4adff;
    --violet-300: #d685ff;
    --violet-400: #c95cff;
    --violet-500: #b3f;
    --violet-600: #9629cc;
    --violet-700: #701f99;
    --violet-800: #4b1466;
    --violet-900: #250a33;

    // Red colors
    --red-50: hsl(16deg 61% 94%);
    --red-100: hsl(14deg 75% 89%);
    --red-200: hsl(13deg 75% 78%);
    --red-300: hsl(14deg 74% 66%);
    --red-400: hsl(13deg 74% 55%);
    --red-500: hsl(14deg 94% 44%);
    --red-500-20: hsl(14deg 94% 44% / 20%);
    --red-600: hsl(13deg 93% 35%);
    --red-700: hsl(14deg 94% 26%);
    --red-800: hsl(13deg 93% 18%);
    --red-900: hsl(14deg 96% 9%);

    // Orange colors
    --orange-50: hsl(32deg 100% 95%);
    --orange-100: hsl(31deg 100% 90%);
    --orange-200: hsl(30deg 100% 80%);
    --orange-300: hsl(30deg 100% 70%);
    --orange-400: hsl(30deg 100% 60%);
    --orange-500: hsl(30deg 100% 50%);
    --orange-500-20: hsl(30deg 100% 50% / 20%);
    --orange-600: hsl(30deg 100% 40%);
    --orange-700: hsl(30deg 100% 30%);
    --orange-800: hsl(30deg 100% 20%);
    --orange-850: hsl(39deg 97% 15%);
    --orange-900: hsl(31deg 100% 10%);

    // Yellow colors
    --yellow-100: hsl(40deg 92% 90%);
    --yellow-200: hsl(40deg 94% 80%);
    --yellow-300: hsl(40deg 94% 69%);
    --yellow-400: hsl(40deg 94% 59%);
    --yellow-500: hsl(40deg 98% 49%);
    --yellow-500-20: hsl(40deg 98% 49% / 20%);
    --yellow-600: hsl(40deg 98% 39%);
    --yellow-700: hsl(40deg 97% 29%);
    --yellow-800: hsl(40deg 98% 20%);
    --yellow-900: hsl(40deg 96% 10%);

    // Green colors
    --green-50: hsl(94deg 37% 93%);
    --green-100: hsl(96deg 36% 85%);
    --green-200: hsl(96deg 36% 71%);
    --green-300: hsl(95deg 35% 56%);
    --green-400: hsl(95deg 51% 41%);
    --green-500: hsl(95deg 100% 26%);
    --green-500-20: hsl(95deg 100% 26% / 20%);
    --green-600: hsl(95deg 100% 21%);
    --green-700: hsl(95deg 100% 16%);
    --green-800: hsl(96deg 100% 11%);
    --green-900: hsl(96deg 100% 5%);

    // Teal colors
    --teal-100: #d9f5f3;
    --teal-200: #b3eae7;
    --teal-300: #8de0dc;
    --teal-400: #67d5d0;
    --teal-500: #41cbc4;
    --teal-600: #34a29d;
    --teal-700: #277a76;
    --teal-800: #1a514e;
    --teal-900: #0d2927;

    // change this to theme
    --accent-hue: 19; // orange

    // Accent colors
    --accent-100: hsl(var(--accent-hue), 92%, 90%);
    --accent-200: hsl(var(--accent-hue), 92%, 79%);
    --accent-300: hsl(var(--accent-hue), 92%, 69%);
    --accent-400: hsl(var(--accent-hue), 92%, 59%);
    --accent-500: hsl(var(--accent-hue), 99%, 48%);
    --accent-500-08: hsla(var(--accent-hue), 99%, 48%, 8%);
    --accent-500-25: hsla(var(--accent-hue), 99%, 48%, 25%);
    --accent-600: hsl(var(--accent-hue), 99%, 39%);
    --accent-700: hsl(var(--accent-hue), 99%, 29%);
    --accent-800: hsl(var(--accent-hue), 100%, 19%);
    --accent-900: hsl(var(--accent-hue), 100%, 10%);

    // Content colors
    --content-disabled: var(--neutral-300);
    --content-link: var(--accent-500);
    --content-link-hover: var(--accent-400);
    --content-link-pressed: var(--accent-600);

    // Primary
    --content-primary: var(--neutral-950);
    --content-primary-inverse: var(--neutral-50);
    --background-primary: var(--neutral-50);
    --background-primary-inverse: var(--neutral-950);

    // Secondary
    --content-secondary: var(--neutral-800);
    --background-secondary: var(--neutral-warm-50);

    // Tertiary
    --content-tertiary: var(--neutral-700);
    --content-tertiary-inverse: var(--neutral-300);
    --background-tertiary: var(--neutral-warm-100);

    // Accent
    --content-accent: var(--accent-500);
    --content-accent-hover: var(--accent-500);
    --content-accent-active: var(--accent-500);
    --background-accent: var(--accent-500);
    --background-accent-pressed: var(--accent-700);
    --background-accent-25: var(--accent-500-25);
    --border-accent: var(--accent-500);
    --border-accent-hover: var(--accent-500);
    --background-accent-subtle-08: var(--accent-500-08);

    // Warning
    --content-warning: var(--orange-700);
    --background-warning: var(--orange-500);
    --background-warning-subtle: var(--orange-500-20);

    // Danger
    --content-danger: var(--red-600);
    --background-danger: var(--red-500);
    --background-danger-subtle: var(--red-500-20);
    --background-danger-bold: var(--red-200);
    --border-danger: var(--red-500);

    // Success
    --content-success: var(--green-500);
    --background-success: var(--green-500);
    --background-success-subtle: var(--green-500-20);

    // Highlight
    --background-mark: var(--yellow-500-20);

    // Border colors
    --border-primary: var(--neutral-600);
    --border-secondary: var(--neutral-400);
    --border-tertiary: var(--neutral-200);
    --border-focus: var(--blue-500);

    // Overlays
    --overlay-25: var(--primary-black-25);
    --overlay-50: var(--primary-black-50);
    --overlay-50-inverse: var(--primary-white-50);

    // Button colors
    // Primary
    --content-button-primary: var(--neutral-cool-900);
    --content-button-primary-hover: var(--primary-black);
    --background-button-primary: var(--primary-white);
    --background-button-primary-hover: var(--primary-white);
    --border-button-primary: var(--yellow-600);
    --border-button-primary-hover: var(--yellow-700);

    // Primary Alt
    --background-button-primary-subtle: var(--yellow-500);
    --background-button-primary-subtle-hover: var(--yellow-400);

    // Toast backgrounds
    --toastify-color-dark: var(--background-primary);
    --toastify-color-light: var(--background-primary);

    // Icon & Progress
    --toastify-color-info: var(--background-tertiary);
    --toastify-color-success: var(--background-success);
    --toastify-color-warning: var(--background-warning);
    --toastify-color-error: var(--background-danger);

    // Progress
    --toastify-color-progress-info: var(--toastify-color-info);
    --toastify-color-progress-success: var(--toastify-color-success);
    --toastify-color-progress-warning: var(--toastify-color-warning);
    --toastify-color-progress-error: var(--toastify-color-error);
    --toastify-toast-background: var(--background-primary);
    --toastify-toast-width: 26rem;
    --toastify-toast-min-height: 3.5rem;
    --toastify-toast-max-height: 16rem;
    --toastify-text-color-light: var(--content-tertiary);

    @include dark-mode-3000-variables;
    @include root-variables;
    @include root-variables;
}

*,
*::before,
*::after {
    border-color: var(--border-tertiary); // Tailwind's default is currentColor, but --border is more useful
}

input[type='radio'] {
    accent-color: var(--background-accent);
}

input[type='search'] {
    &::-webkit-search-decoration,
    &::-webkit-search-cancel-button,
    &::-webkit-search-results-button,
    &::-webkit-search-results-decoration {
        display: none;
    }
}

.page-title-row {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem 1rem;
    align-items: center;
    min-height: 2.5rem;
    margin: 1rem 0 0.25rem;

    @include screen($md) {
        flex-wrap: nowrap;
    }
}

.page-title {
    min-width: 0;
    margin: 0;
    font-size: 28px;
    font-weight: 600;
    line-height: 34px;
}

.page-caption {
    max-width: 48rem;
    margin-bottom: 1rem;
    font-size: 0.875rem;
    line-height: 1.25rem;

    &.tabbed {
        margin-bottom: 0.5rem;
    }
}

.secondary {
    font-size: 0.9em;
    font-weight: var(--font-medium);
    color: var(--primary-alt);
    text-transform: uppercase;
    letter-spacing: 1px;
    background: none;
    border: 0;
}

.card-secondary {
    font-size: 11px;
    font-weight: 600;
    color: var(--content-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

mark {
    background-color: var(--background-mark) !important;
    border-radius: var(--radius);
}

hr {
    margin: 1em 0;
    border-top: 1px solid var(--border-tertiary);
}

// Vendor-specific adjustments

input::-ms-clear {
    display: none; // Hide IE/Edge's clear button that can mess input sizing up
}

// Highlight background blink

/* stylelint-disable-next-line keyframes-name-pattern */
@keyframes highlight {
    0% {
        background-color: var(--mark);
    }

    100% {
        background-color: initial;
    }
}

// Generic 360 spin

/* stylelint-disable-next-line keyframes-name-pattern */
@keyframes spin {
    0% {
        transform: rotateZ(0deg);
    }

    100% {
        transform: rotateZ(360deg);
    }
}

// Toasts

.Toastify__toast {
    align-items: center;
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    font-family: var(--font-sans);
    font-size: 1rem;
    cursor: unset;
    border: 1px solid var(--secondary-3000-button-border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-elevation-3000);
    opacity: 1 !important;
}

.Toastify__toast-container {
    padding: 0;
}

.Toastify__toast-body {
    padding: 0;
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.25rem;
    color: var(--content-primary);

    b,
    strong {
        font-weight: 700;
    }

    button {
        margin: 0 0.75rem;
    }
}

.Toastify__toast-icon {
    width: 1.5rem;
    height: 1.5rem;
    margin-right: 0.75rem;
    font-size: 1.5rem;
    color: var(--content-tertiary);

    .Toastify__toast--success & {
        color: var(--toastify-color-success);
    }

    .Toastify__toast--warning & {
        color: var(--toastify-color-warning);
    }

    .Toastify__toast--error & {
        color: var(--toastify-color-error);
    }
}

.Toastify__progress-bar {
    height: var(--radius);
}

// Form & input styles

.error-on-blur {
    &.errored:not(:focus) {
        border-color: var(--danger) !important;
    }
}

// Button styles

.info-indicator {
    margin-left: 4px;
    color: var(--primary-alt) !important;
    cursor: pointer;

    &.left {
        margin-right: 4px;
        margin-left: 0;
    }
}

// Graph series glyph

.graph-series-glyph {
    display: flex;
    flex-shrink: 0;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    font-size: 12px;
    font-weight: bold;
    pointer-events: none;
    border: 2px solid var(--content-primary);
    border: 2px solid red;
    border-radius: 50%;

    // variants
    &.funnel-step-glyph {
        width: 23px;
        height: 23px;
        font-size: unset;
        color: var(--primary-alt);
        background-color: var(--background-primary);
        border-color: var(--border);
    }
}

// Bottom notice (DEBUG=1 mode)

#bottom-notice {
    position: fixed;
    bottom: 0;
    left: 0;
    z-index: var(--z-bottom-notice);
    display: flex !important;
    flex-direction: row;
    width: 100%;
    font-size: 0.75rem;
    line-height: 1.5rem;
    color: #fff;
    background: #000;

    code {
        font-size: inherit;
        color: inherit;
    }

    &.warning div {
        height: auto;
        background: var(--danger);
    }

    &.tricolor {
        cursor: pointer;

        div:nth-child(1) {
            background: var(--brand-blue);
        }

        div:nth-child(2) {
            background: var(--brand-red);
        }

        div:nth-child(3) {
            background: var(--brand-yellow);
        }

        span {
            cursor: text;
        }
    }

    div {
        flex-basis: 0;
        flex-grow: 1;
        height: 1.5rem;
        text-align: center;
    }

    span {
        display: none;
    }

    button {
        width: 1.5rem;
        height: 1.5rem;
        padding: 0;
        font-size: 1rem;
        font-weight: bold;
        color: inherit;
        cursor: pointer;
        background: transparent;
        border: none;
    }

    @media screen and (min-width: 750px) {
        font-size: 1rem;
        line-height: 2rem;

        div {
            height: 2rem;
        }

        span {
            display: inline;
        }

        button {
            width: 2rem;
            height: 2rem;
            font-size: 1.25rem;
        }
    }
}

html {
    text-size-adjust: 100%;
}

input::placeholder,
textarea::placeholder {
    color: var(--content-tertiary); // Overrides Tailwind's default
}

// Global styles nested under body to ensure they're more specific than Tailwind's base
body {
    font-size: 14px;
    line-height: 1.5715;
    color: var(--content-primary);
    touch-action: manipulation; // Disable double-tap-to-zoom on mobile, making taps slightly snappier
    background: var(--background-secondary);

    &[theme='light'] {
        @include light-mode-3000-variables;
    }

    &[theme='dark'] {
        // change this to theme
        --accent-hue: 40; // yellow-500

        // Accent colors (re-assign)
        --accent-100: hsl(var(--accent-hue), 92%, 90%);
        --accent-200: hsl(var(--accent-hue), 92%, 79%);
        --accent-300: hsl(var(--accent-hue), 92%, 69%);
        --accent-400: hsl(var(--accent-hue), 92%, 59%);
        --accent-500: hsl(var(--accent-hue), 99%, 48%);
        --accent-500-08: hsla(var(--accent-hue), 99%, 48%, 8%);
        --accent-500-25: hsla(var(--accent-hue), 99%, 48%, 25%);
        --accent-600: hsl(var(--accent-hue), 99%, 39%);
        --accent-700: hsl(var(--accent-hue), 99%, 29%);
        --accent-800: hsl(var(--accent-hue), 100%, 19%);
        --accent-900: hsl(var(--accent-hue), 100%, 10%);

        // Content colors
        // REVIEW
        --content-disabled: var(--neutral-300);

        // REVIEW
        --content-link: var(--accent-500);

        // REVIEW
        --content-link-hover: var(--accent-400);

        // REVIEW
        --content-link-pressed: var(--accent-600);

        // Primary
        --content-primary: var(--neutral-cool-100);
        --content-primary-inverse: var(--primary-black);
        --background-primary: var(--neutral-cool-925);
        --background-primary-inverse: var(--neutral-cool-100);

        // Secondary
        --content-secondary: var(--neutral-cool-200);
        --background-secondary: var(--neutral-cool-900);

        // Tertiary
        --content-tertiary: var(--neutral-cool-300);
        --content-tertiary-inverse: var(--neutral-cool-700);
        --background-tertiary: var(--neutral-cool-850);

        // Accent
        --content-accent: var(--accent-500);
        --content-accent-hover: var(--accent-500);
        --content-accent-active: var(--accent-500);
        --background-accent: var(--accent-500);
        --background-accent-pressed: var(--accent-700);
        --border-accent: var(--accent-500);
        --border-accent-hover: var(--accent-500);

        // Warning
        --content-warning: var(--orange-100);

        // Danger
        --content-danger: var(--red-200);
        --background-danger-bold: var(--red-600);
        --border-danger: var(--red-500);

        // Success
        --content-success: var(--green-200);

        // Border colors
        --border-primary: var(--neutral-cool-400);
        --border-secondary: var(--neutral-cool-650);
        --border-tertiary: var(--neutral-cool-750);

        // Button colors
        // Primary
        --content-button-primary: var(--neutral-cool-900);
        --content-button-primary-hover: var(--primary-black);
        --background-button-primary: var(--yellow-500);
        --background-button-primary-hover: var(--yellow-700);
        --border-button-primary: var(--yellow-700);
        --border-button-primary-hover: var(--yellow-700);

        // Primary Alt
        --background-button-primary-subtle: var(--yellow-500);
        --background-button-primary-subtle-hover: var(--yellow-500);

        // Toast backgrounds
        --toastify-color-dark: var(--background-secondary);
        --toastify-color-light: var(--background-secondary);

        // Icon & Progress
        --toastify-color-info: var(--background-tertiary);
        --toastify-color-success: var(--background-success);
        --toastify-color-warning: var(--background-warning);
        --toastify-color-error: var(--background-danger);

        // Progress
        --toastify-color-progress-info: var(--toastify-color-info);
        --toastify-color-progress-success: var(--toastify-color-success);
        --toastify-color-progress-warning: var(--toastify-color-warning);
        --toastify-color-progress-error: var(--toastify-color-error);
        --toastify-toast-background: var(--background-primary);
        --toastify-toast-width: 26rem;
        --toastify-toast-min-height: 3.5rem;
        --toastify-toast-max-height: 16rem;
        --toastify-text-color-light: var(--content-tertiary);

        @include dark-mode-3000-variables;
        @include root-variables;
    }

    * > {
        ::-webkit-scrollbar {
            width: 0.5rem;
            height: 0.5rem;
        }

        ::-webkit-scrollbar-track {
            background: var(--accent-3000);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--trace-3000);
            border-radius: var(--radius);

            &:hover {
                background: var(--content-tertiary);
            }
        }
    }

    b,
    strong {
        font-weight: 600; // Tailwind's default is "bolder" (800)
    }

    h1,
    h2,
    h3,
    h4,
    h5 {
        margin-top: 0;
        margin-bottom: 0.5em;
        font-family: var(--font-title);
        font-weight: 700;
    }

    h1,
    h2,
    h3,
    h4 {
        color: var(--content-primary);
    }

    h1 {
        font-size: 1.75rem;
    }

    h2 {
        font-size: 1.3125rem;
    }

    h3 {
        font-size: 1rem;
    }

    h5 {
        margin-bottom: 0.25rem;
        font-size: 0.6875rem;
        font-weight: 600;
        line-height: 1.5rem;
        color: var(--content-tertiary);
        text-transform: uppercase;
        letter-spacing: 0.075em;
    }

    pre {
        margin-top: 0;
        margin-bottom: 1em;
        overflow: auto;
    }

    dialog {
        background-color: var(--background-secondary);
    }

    .LemonButton,
    .Link {
        .text-link {
            color: var(--content-primary) !important;
        }

        &:hover {
            .text-link {
                color: var(--content-accent) !important;
            }
        }
    }

    @include common-variables;
}

a {
    color: var(--content-link);
    text-decoration: none;
}

p {
    margin-top: 0;
    margin-bottom: 1em;
}

img {
    vertical-align: middle;
    border-style: none;
}

[tabindex='-1']:focus {
    outline: none !important;
}

.storybook-test-runner {
    &.storybook-test-runner--fullscreen {
        height: fit-content;
    }

    &.storybook-test-runner--padded {
        #storybook-root {
            // Make the root element (which is the default screenshot reference) hug the component
            display: inline-block;
        }
    }

    // Only use this class in visual regression tests
    *,
    *::before,
    *::after {
        transition-duration: 0ms !important;
        animation-fill-mode: forwards !important;
        animation-duration: 0ms !important;
        animation-iteration-count: 1 !important;
    }

    // Hide some parts of the UI that were causing flakiness
    ::-webkit-scrollbar,
    *> ::-webkit-scrollbar,
    // Scrollbar in WebKit/Blink browsers
    .LemonTabs__bar::after,
    // Active tab slider
    .scrollable::after,
    // Scrollability indicators
    .scrollable::before {
        display: none;
    }

    #storybook-root > .fixed:only-child {
        // Fix for stories of fixed overlays like CommandBar - otherwise body would be zero-sized
        position: static !important;
    }

    #storybook-root:empty ~ .ReactModalPortal > .ReactModal__Overlay {
        // Fix for stories of fixed modals - otherwise body would be zero-sized
        position: static !important;
    }
}

.ligatures-none {
    font-variant-ligatures: none;
}

.hide-scrollbar {
    scrollbar-width: none;
    -ms-overflow-style: none;

    &::-webkit-scrollbar {
        display: none;
    }
}

@layer utilities {
    .border-primary {
        border-color: var(--border-primary);
    }

    .border-secondary {
        border-color: var(--border-secondary);
    }

    .border-tertiary {
        border-color: var(--border-tertiary);
    }

    .border-disabled {
        border-color: var(--border-disabled);
    }

    .border-inverse {
        border-color: var(--border-inverse);
    }

    .border-danger {
        border-color: var(--border-danger);
    }

    .border-x-danger-subtle {
        border-right-color: var(--border-danger);
        border-left-color: var(--border-danger);
    }
}
